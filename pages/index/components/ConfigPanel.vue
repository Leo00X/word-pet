<template>
  <view class="panel-body">
    <view class="setting-item" @click="$emit('open-selector', 'whitelist')">
      <view class="icon-box">ğŸ–</view>
      <view class="setting-text">
        <text class="main-text">æŠ•å–‚è§„åˆ™ (ç™½åå•)</text>
        <text class="sub-text">è®¾ç½®ä½œä¸º"é£Ÿç‰©"çš„å­¦ä¹ è½¯ä»¶</text>
      </view>
      <text class="arrow">></text>
    </view>

    <view class="setting-item" @click="navigateToAISelector">
      <view class="icon-box">ğŸ¤–</view>
      <view class="setting-text">
        <text class="main-text">AI æ¨¡å‹é€‰æ‹©</text>
        <text class="sub-text">åˆ‡æ¢æˆ–é…ç½® AI å¯¹è¯æ¨¡å‹</text>
      </view>
      <text class="arrow">></text>
    </view>

    <view class="setting-item" @click="$emit('open-selector', 'blacklist')">
      <view class="icon-box">â˜ ï¸</view>
      <view class="setting-text">
        <text class="main-text">ç¦å¿Œç‰©å“ (é»‘åå•)</text>
        <text class="sub-text">è®¾ç½®ä¼šè®©å® ç‰©æš´èµ°çš„å¨±ä¹è½¯ä»¶</text>
      </view>
      <text class="arrow">></text>
    </view>

    <view class="setting-block">
      <text class="block-title">æ‰«æé¢‘ç‡ ({{ (monitorIntervalTime / 1000).toFixed(0) }} ç§’/æ¬¡)</text>
      <slider 
        :value="monitorIntervalTime" 
        min="3000" 
        max="60000" 
        step="1000" 
        activeColor="#2ed573" 
        backgroundColor="#57606f"
        block-color="#ffa502"
        block-size="18"
        @change="handleIntervalChange"
      />
    </view>

    <button class="game-btn terminal-btn" @click="$emit('open-terminal')">
      <text>ğŸ–¥ï¸ è¿›å…¥ç›‘æ§ç»ˆç«¯</text>
    </button>
  </view>
</template>

<script>
export default {
  name: 'ConfigPanel',
  props: {
    monitorIntervalTime: {
      type: Number,
      default: 3000
    }
  },
  methods: {
    handleIntervalChange(e) {
      this.$emit('interval-change', e.detail.value);
    },
    navigateToAISelector() {
      uni.navigateTo({
        url: '/pages/config/ai-selector'
      });
    }
  }
}
</script>

<style lang="scss" scoped>
$text-dim: #747d8c;

/* é…ç½®é¡¹ */
.setting-item {
  display: flex; 
  align-items: center;
  background: #2f3542;
  padding: 12px;
  border-radius: 8px;
  margin-bottom: 10px;
}

.icon-box { 
  font-size: 20px; 
  margin-right: 12px; 
}

.setting-text { 
  flex: 1; 
  display: flex; 
  flex-direction: column; 
}

.main-text { 
  font-size: 14px; 
  font-weight: bold; 
}

.sub-text { 
  font-size: 10px; 
  color: $text-dim; 
  margin-top: 2px; 
}

.arrow { 
  color: $text-dim; 
}

.setting-block { 
  background: #2f3542; 
  padding: 12px; 
  border-radius: 8px; 
  margin-top: 20px; 
}

.block-title { 
  display: block; 
  font-size: 12px; 
  color: $text-dim; 
  margin-bottom: 10px; 
}

.game-btn {
  border: none;
  border-radius: 8px;
  font-weight: bold;
  color: #fff;
  box-shadow: 0 4px 0 rgba(0,0,0,0.3);
}

.terminal-btn { 
  background: #2f3542; 
  border: 1px solid #57606f; 
  margin-top: 20px; 
  font-size: 12px; 
}
</style>
