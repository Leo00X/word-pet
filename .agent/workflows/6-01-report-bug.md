---
description: 快速报告 Bug 到 BUG.md
---

# Bug 快速报告工作流

## 使用场景
发现新 Bug 时，简单描述问题，AI 自动填充完整报告并添加到 BUG.md

---

## 📋 使用方法

### Step 1: 描述 Bug

**你只需提供**:
```
我发现一个 Bug：[简单描述问题]

例如：
- "皮肤切换后悬浮窗没有同步"
- "点击对话按钮没反应"
- "心情值显示不对"
```

### Step 2: AI 自动完成

AI 会自动：
1. 分配 Bug 编号（如 #107）
2. 确定优先级（🔴/🟡/🟢）
3. 填充完整模板
4. 添加到 BUG.md

---

## 🤖 AI 需要询问的信息

如果信息不完整，AI 会询问：

**基本信息**:
- 📅 发现时间（默认今天）
- 📱 测试设备（Android/iOS/模拟器）
- 🎯 Bug 模块（悬浮窗/AI/成长系统等）

**问题细节**:
- 现象：具体看到了什么？
- 期望：应该是什么样的？
- 复现步骤：如何重现？

**技术信息**（可选）:
- 可能原因
- 相关文件

---

## 📝 自动生成的模板格式

```markdown
### #xxx 【模块名】简短描述
**发现时间**: YYYY-MM-DD  
**严重程度**: 🔴/🟡/🟢  
**状态**: 未修复  
**测试设备**: Android真机

**问题描述**:  
[根据你的描述自动填充]

**期望行为**:  
[AI 推断或询问你]

**复现步骤**:
1. [步骤1]
2. [步骤2]
3. 观察到xxx

**可能原因**:  
[如果你提供了，否则标记"待分析"]

**相关文件**:
- [相关文件路径]

---
```

---

## 🎯 优先级判断标准

AI 会根据影响自动判断优先级：

| 优先级 | 标准 | 示例 |
|--------|------|------|
| 🔴 高 | 核心功能不可用、数据丢失 | 无法打开应用、数据清空 |
| 🟡 中 | 功能异常但有变通方法 | 皮肤不同步、统计不准 |
| 🟢 低 | UI 小瑕疵、体验优化 | 按钮颜色、文字错误 |

---

## 💡 使用示例

### 示例 1: 简单描述

**你说**:
```
我发现皮肤切换后，悬浮窗里的宠物皮肤没有同步更新
```

**AI 自动生成**:
```markdown
### #107 【皮肤系统】皮肤切换后悬浮窗未同步
**发现时间**: 2025-12-06  
**严重程度**: 🟡 中  
**状态**: 未修复  
**测试设备**: Android真机

**问题描述**:  
在主界面切换皮肤后，悬浮窗中的宠物皮肤没有同步更新，仍显示旧皮肤。

**期望行为**:  
切换皮肤后，悬浮窗宠物应立即同步显示新皮肤。

**复现步骤**:
1. 打开主界面 → 系统设置 → 皮肤管理
2. 切换为其他皮肤
3. 查看悬浮窗
4. 观察到悬浮窗皮肤未更新

**可能原因**:  
待分析（可能是悬浮窗状态同步机制问题）

**相关文件**:
- pages/index/composables/useSkins.js
- pages/index/composables/useFloatWindow.js
```

---

### 示例 2: 详细描述

**你说**:
```
点击对话 Tab 的发送按钮没反应，控制台报错 "Cannot read property 'value' of undefined"，
应该是 useChat 里面的 userInput ref 没有正确初始化
```

**AI 自动生成**:
```markdown
### #108 【聊天系统】发送按钮点击无响应
**发现时间**: 2025-12-06  
**严重程度**: 🔴 高  
**状态**: 未修复  
**测试设备**: Android真机

**问题描述**:  
点击对话 Tab 的发送按钮后没有任何反应，控制台报错：
`Cannot read property 'value' of undefined`

**期望行为**:  
点击发送按钮后，消息应该发送并显示在聊天列表中。

**复现步骤**:
1. 打开主界面 → 对话 Tab
2. 输入消息
3. 点击发送按钮
4. 观察到无反应，控制台报错

**根本原因**:  
`useChat.js` 中的 `userInput` ref 未正确初始化。

**相关文件**:
- pages/index/composables/useChat.js
- pages/index/components/ChatPanel.vue
```

---

## ⚡ 快速命令

**报告 Bug**:
```
/6-report-bug

[简单描述你的问题]
```

**同时引用 Bug 修复流程**:
```
@[word-pet/docs/maintenance/BUG.md]
@[word-pet/.agent/workflows/2-dev-fix-bug.md]
```

---

## 🔄 完整流程

```
发现 Bug
    ↓
调用 /6-report-bug
    ↓
简单描述问题
    ↓
AI 自动填充模板
    ↓
确认信息
    ↓
自动添加到 BUG.md
    ↓
（可选）立即开始修复
    ↓
调用 /2-dev-fix-bug
```

---

## 📖 参考文档

- [BUG.md](../../docs/maintenance/BUG.md) - 查看现有 Bug
- [fix-bug workflow](./2-dev-fix-bug.md) - Bug 修复流程
- [bug_prevention_guide.md](../../docs/maintenance/bug_prevention_guide.md) - 防范指南
