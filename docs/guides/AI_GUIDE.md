# AI 多模型系统使用指南

## 🎯 功能概述

WordParasite 现已支持多个 AI 模型，包括：
- **DeepSeek V3.2** - 高性能对话模型
- **Gemini 2.5 Flash-Lite** - 支持思维链推理（快速版）
- **Gemini 2.5 Pro** - 最强思维能力（深度版）
- **自定义模型** - 任意 OpenAI 兼容 API

## ✨ 核心特性

### 1. 一键切换
无需重启应用，在"系统设置"中即可切换 AI 模型

### 2. 多轮对话记忆
- 自动保留最近 **10 轮对话**
- 切换模型后仍能"接着聊"
- 智能上下文管理，平衡理解与成本

### 3. API Key 管理
- 独立配置页面
- 连接测试功能
- 本地安全存储

## 📖 使用方法

### 切换AI模型
```
主页 → 系统设置 Tab → 🤖 AI 模型选择
→ 点击模型卡片即可切换
```

### 配置 API Key
```
模型卡片 → 配置密钥按钮
→ 输入 API Key → 测试连接 → 保存
```

### 体验多轮对话
```
1. 你：我叫小明
   AI：知道了...

2. [切换到 Gemini Pro]

3. 你：我叫什么？
   AI：你叫小明 ✅ (记住了！)
```

## 🔧 技术实现

- **架构**: 适配器模式，统一接口
- **历史管理**: 保留最近 10 轮（约 2000-5000 tokens）
- **API格式**: DeepSeek/Custom 使用 OpenAI 格式，Gemini 使用原生 REST API
- **存储**: 本地 JSON 存储（可选加密）

## 📊 性能与成本

| 模型 | 响应速度 | 成本 | 适用场景 |
|------|---------|------|---------|
| DeepSeek V3.2 | 快 | 极低 | 日常对话 |
| Gemini 2.5 Flash | 极快 | 低 | 快速问答 |
| Gemini 2.5 Pro | 中 | 中等 | 深度推理 |

## 🐛 常见问题

**Q: 切换模型后 AI 不记得之前说了什么？**
A: 确保已更新到最新版本，history 功能已实现

**Q: API Key 配置后无效？**
A: 点击"测试连接"验证，确保 Key 正确且有余额

**Q: 想添加其他 AI 模型？**
A: 在"自定义模型"中添加 OpenAI 兼容的 API

---

**更新时间**: 2025-12-05  
**版本**: v2.0
