# Live2D 功能路线图

> **更新日期**: 2025-12-08  
> **当前阶段**: 基础功能已完成，等待插件更新后进入优化阶段

---

## 📊 功能状态总览

| 阶段 | 功能数 | 状态 |
|------|--------|------|
| ✅ 已实现 | 8 项 | 核心功能可用 |
| 🔧 部分实现 | 3 项 | 基础框架已有 |
| 🔜 近期规划 | 3 项 | 等待插件更新 |
| 🎯 中期规划 | 7 项 | 功能增强 |
| 🌟 远期规划 | 9 项 | 高级功能 |

---

## ✅ 已实现功能

### 基础渲染

| 功能 | 描述 | 状态 |
|------|------|------|
| **双内核支持** | 兼容 Cubism 2.1 (Shizuku) 和 4.0 (Hiyori) | ✅ 完成 |
| **本地加载引擎** | Object URL 映射方案，无需 Web Server | ✅ 完成 |
| **模型自动识别** | 自动识别 `.model.json` / `.model3.json` | ✅ 完成 |
| **透明背景** | 悬浮窗透明，仅显示模型 | ✅ 完成 |

### 交互系统

| 功能 | 描述 | 状态 |
|------|------|------|
| **部位联动** | 点击头/身/腿触发不同参数动画 | ✅ 完成 |
| **眼神跟随** | 眼睛跟随手指移动 | ✅ 完成 |
| **点击反馈** | 涟漪特效 + 气泡回复 | ✅ 完成 |
| **情感驱动** | AI 情感标签驱动表情/动作 | ✅ 完成 |

---

## 🔧 部分实现功能

| 功能 | 当前状态 | 待完善 |
|------|----------|--------|
| **表情系统** | 支持 happy/angry | 需增加更多表情 |
| **动作系统** | 支持 Idle/TapBody | 需增加更多动作 |
| **HitArea 检测** | 坐标区域模拟 | 模型只有 Body 一个区域 |

---

## 🔜 近期规划（插件更新后）

**前置条件**: `android-floatwindow` 插件更新，支持 WebView 本地文件跨域访问

| 优化项 | 当前 | 优化后 | 提升 |
|--------|------|--------|------|
| 模型加载方式 | Object URL 映射 | 直接 file:// 访问 | 代码量 -90% |
| 启动时间 | 1-2秒 | <0.5秒 | 速度 +100% |
| 内存占用 | 17个文件全部读入 | 按需流式加载 | 内存 -80% |

**待办清单**:
- [ ] 监控 [android-floatwindow](https://ext.dcloud.net.cn/plugin?id=20324) 版本更新
- [ ] 测试新版本 `setAllowFileAccessFromFileURLs` API
- [ ] 验证后简化 `useLive2dLoader.js`（移除 Object URL 映射）

---

## 🎯 中期规划（功能增强）

### 1. 多模型切换
- 支持下载/导入自定义 Live2D 模型
- 模型商城（在线下载）
- 模型预览和试穿

### 2. 表情系统增强
- 更多表情预设（害羞、生气、惊讶、困、撒娇、傲娇...）
- AI 情感自动匹配更多表情
- 表情组合（边哭边笑、又爱又恨）
- 表情过渡动画

### 3. 触摸交互升级
- 细分更多 HitAreas（头/眼/嘴/胸/手/腿/尾巴）
- 不同部位触发不同音效
- 连续触摸累积反应（摸头100次解锁隐藏表情）
- 拖拽肢体（拉手、捏脸）

### 4. 物理模拟增强
- 头发/衣服摇摆响应滑动方向
- 重力感应（手机倾斜时头发飘动）
- 眼神跟随手指更流畅
- 呼吸节奏与心情联动

### 5. 互动小游戏
- 猜拳游戏（石头剪刀布）
- 摸头倒计时挑战
- 躲猫猫（宠物随机藏起来）
- 喂食动画（投喂虚拟食物）

### 6. 情绪记忆系统
- 记住用户常用的互动方式
- 根据历史互动调整反应
- "最近你都不理我了..."主动撒娇

### 7. 换装系统
- 服装/配饰切换
- 季节限定皮肤
- DIY 配色
- 服装商城

---

## 🌟 远期规划（高级功能）

### 1. 语音合成 (TTS)
- AI 回复转语音播放
- Live2D 口型同步
- 多种语音包（萝莉/御姐/正太）
- 语音情感渲染

### 2. 语音识别 (ASR)
- 对宠物说话直接对话
- 语音指令（"给我跳个舞"）
- 方言支持

### 3. AR 模式
- 摄像头背景融合
- 跟随现实世界光照
- 宠物站在真实桌面上
- 面部追踪（宠物模仿你的表情）

### 4. 多宠物系统
- 同时养多只宠物
- 宠物之间互动
- 宠物繁殖/进化

### 5. 社交功能
- 宠物名片分享
- 好友宠物来访
- 宠物联机小游戏
- 排行榜（学习时长、亲密度）

### 6. 智能陪伴
- 番茄钟模式（学习25分钟，宠物提醒休息）
- 日程提醒（"主人，你3点有会议"）
- 天气播报（"今天记得带伞哦"）
- 情绪安慰（检测到用户沮丧时主动关心）

### 7. 跨平台同步
- 云端存档
- PC 客户端
- iOS 版本
- 网页版（WebGL）

### 8. 高级定制
- 自定义语音
- 自定义对话风格
- 自定义技能

### 9. 商业化
- 付费模型商城
- 订阅制高级功能
- 创作者分成

---

## 📁 相关文件

| 文件 | 作用 |
|------|------|
| `static/pet-live2d.html` | Live2D 渲染容器 |
| `composables/useLive2dLoader.js` | 模型加载器 |
| `static/live2d-models/` | 模型资源目录 |

---

## 📚 参考文档

- [FEATURES.md](../FEATURES.md) - 完整功能清单
- [BUG.md](./BUG.md) - 已知限制 #L01

---

**创建时间**: 2025-12-08
